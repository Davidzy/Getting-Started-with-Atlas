[[building_and_debugging]]
== Building and Debugging

You can use Atlas to build your book in three formats--PDF, EPUB, and Mobi--whenever you like.

.Three Major Ebook Formats
****
You may be wondering about the three book formats that Altas produces. An overview of each follows:

* The fixed-layout PDF format is undoubtedly familiar to you and remains the http://radar.oreilly.com/2012/03/publishers-data-direct-sales-customers.html[most popular format] among customers who buy direct from O'Reilly. If your book ends up being printed, we will use a slightly modified version of the online-friendly PDF that Atlas outputs.  
* http://en.wikipedia.org/wiki/EPUB[EPUB] uses a fluid layout, which means that the text reflows to fit the container in which it is presented. EPUB is sold by most major ebook retailers, with the exception of Amazon. You can read an EPUB with http://itunes.apple.com/us/app/ibooks/id364709193?mt=8[iBooks] on an iOS device, http://www.aldiko.com/download.html[Aldiko] on an Android device, and http://www.adobe.com/products/digitaleditions/[Adobe Digital Editions] on your desktop.
* The http://en.wikipedia.org/wiki/Mobipocket[Mobipocket] format is also a fluid format and is used by Amazon's Kindle platform. You can copy the Mobi that Atlas outputs to your Kindle, or you can preview it with the http://www.amazon.com/gp/feature.html?docId=1000729511[Kindle Previewer].
****

=== Building Books

To kick off a build, click on the Build tab. Click the New Build button, and you will be presented with a list of the files that you've created so far. Drag or click the files that you'd like to include in the build, as shown in <<files_to_build>>.

[[files_to_build]]
.You can drag or click on the files to move them to and from the Files to Build box
image::images/files_to_build.png[]

The builds will change to a status of pending. Wait a few minutes, and then refresh the page. Assuming the builds were successful, you can download your files right from Atlas. If you run into an error, see <<debugging_errors>>.

[NOTE]
====
Build times vary based on the length of your book, but most builds finish within a few minutes. EPUB files build the fastest, PDF files the slowest, and Mobi files somewhere in between. 
====

[[debugging_errors]]
=== Debugging Errors

Book builds will sometimes fail. The most likely cause of a failure is that your AsciiDoc isn't structured in a syntactically valid way. When you trigger a build, Atlas transforms your AsciiDoc into DocBook XML 4.5, and all book formats are built from that DocBook source. If your job fails, Atlas will report the error, which should help you to fix it. 

For example, here is an Atlas error log for a PDF build that failed:

----
book.xml:291: element xref: validity error : IDREF attribute linkend references an unknown ID "cloning_to_github"
----

In this case, the problem is that there is a cross-reference referring to an
ID that does not exist. You can fix it by adding an ID to the appropriate
block, as explained in [[asciidoc_101]].

We realize that build failures can be tricky to troubleshoot, so we're working
on improving the error messaging. Also, we've configured Atlas to be
permissive enough so that it doesn't fail on minor errors. Please let us know
about your experiences with troubleshooting build failures, and how Atlas can
be improved to make the experience better.

If you get really stuck, just let your editor know, and we'll jump in and assess what's happening.